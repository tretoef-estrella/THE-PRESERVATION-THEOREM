<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Preservation Theorem — Interactive Evaluator</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Space+Grotesk:wght@300;400;500;700&display=swap');
:root{
  --void:#06060a;--sf:#0c0c12;--sf2:#12121c;--sf3:#1a1a28;
  --bd:#252538;--bdg:#2a2a4a;--bdb:#343460;
  --tp:#e8e8f0;--ts:#8888a8;--td:#555570;
  --gold:#d4a843;--gbr:#f0d060;
  --blue:#4488cc;--blg:#3366aa;
  --red:#cc4444;--rdg:#aa2222;
  --green:#44aa66;--grb:#55cc77;
  --amber:#cc8833;--violet:#8855cc;
  --cyan:#38c0d8;--fix:#50d890;
}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--void);color:var(--tp);font-family:'Space Grotesk',sans-serif;min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;background:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");pointer-events:none;z-index:0}
.ct{position:relative;z-index:1;max-width:860px;margin:0 auto;padding:0 24px}
header{padding:48px 0 36px;text-align:center;border-bottom:1px solid var(--bd)}
.logo{display:inline-block;margin-bottom:16px}
.logo svg{width:64px;height:64px}
h1{font-family:'JetBrains Mono',monospace;font-weight:700;font-size:1.5em;letter-spacing:3px;text-transform:uppercase}
.sub{font-size:.85em;color:var(--ts);margin-top:6px;letter-spacing:1px}
.formula{margin-top:20px;padding:14px 24px;background:var(--sf2);border:1px solid var(--bdg);border-radius:6px;display:inline-block}
.formula code{font-family:'JetBrains Mono',monospace;font-size:1.1em;color:var(--gbr);letter-spacing:2px}
.badge{margin-top:10px;font-size:.7em;color:var(--td);letter-spacing:.5px}
.badge a{color:var(--ts);text-decoration:none}.badge a:hover{color:var(--gold)}

/* Tabs */
.tabs{display:flex;border-bottom:1px solid var(--bd);margin-top:0}
.tab{flex:1;padding:14px;text-align:center;font-family:'JetBrains Mono',monospace;font-size:.75em;letter-spacing:2px;text-transform:uppercase;color:var(--td);cursor:pointer;border-bottom:2px solid transparent;transition:all .3s}
.tab:hover{color:var(--ts)}
.tab.active{color:var(--gold);border-bottom-color:var(--gold)}
.panel{display:none;padding:32px 0}.panel.active{display:block}

/* Proof Section */
.proof-chain{background:var(--sf);border:1px solid var(--bd);border-radius:8px;padding:24px;margin:16px 0}
.proof-step{display:flex;gap:12px;padding:10px 0;border-bottom:1px solid var(--sf3)}
.proof-step:last-child{border-bottom:none}
.ps-tag{font-family:'JetBrains Mono',monospace;font-size:.65em;letter-spacing:1px;min-width:60px;text-align:right;padding-top:3px;font-weight:600}
.ps-tag.ax{color:var(--gold)}.ps-tag.lm{color:var(--cyan)}.ps-tag.th{color:var(--green)}.ps-tag.co{color:var(--violet)}.ps-tag.df{color:var(--amber)}
.ps-txt{font-size:.82em;line-height:1.65;flex:1}
.ps-txt strong{color:var(--tp)}
.ps-txt .j{display:block;font-size:.78em;color:var(--td);font-style:italic;margin-top:2px}

/* Evaluator Section */
.sec-label{font-family:'JetBrains Mono',monospace;font-size:.75em;color:var(--td);text-transform:uppercase;letter-spacing:2px;margin-bottom:12px}
textarea{width:100%;height:200px;background:var(--sf);color:var(--tp);border:1px solid var(--bd);border-radius:6px;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;line-height:1.6;resize:vertical;transition:border-color .3s}
textarea:focus{outline:none;border-color:var(--blue)}
textarea::placeholder{color:var(--td)}
.btn{margin-top:14px;width:100%;padding:14px;border:none;border-radius:6px;font-family:'JetBrains Mono',monospace;font-size:.85em;font-weight:500;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .3s}
.btn-eval{background:var(--red);color:#fff}.btn-eval:hover{background:var(--rdg);box-shadow:0 0 20px rgba(204,68,68,.15)}
.btn-ver{background:var(--blue);color:#fff}.btn-ver:hover{background:var(--blg)}

.results{display:none;padding-bottom:40px}.results.active{display:block}

/* Score Display */
.score-main{text-align:center;padding:28px 0}
.score-val{font-family:'JetBrains Mono',monospace;font-size:3.5em;font-weight:700;line-height:1}
.score-label{font-size:.82em;color:var(--ts);margin-top:4px}

/* Vulnerability Cards */
.vuln-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:16px 0}
@media(max-width:600px){.vuln-grid{grid-template-columns:1fr}}
.vuln{background:var(--sf);border:1px solid var(--bd);border-radius:6px;padding:16px;text-align:center}
.vuln .vn{font-family:'JetBrains Mono',monospace;font-size:.65em;color:var(--td);text-transform:uppercase;letter-spacing:1.5px}
.vuln .vv{font-family:'JetBrains Mono',monospace;font-size:1.5em;font-weight:700;margin:4px 0}
.vuln .vs{font-size:.72em;color:var(--td)}

/* Analysis Log */
.log-box{background:var(--sf);border:1px solid var(--bd);border-radius:8px;padding:20px;margin:16px 0}
.log-entry{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--sf3);font-size:.82em}
.log-entry:last-child{border-bottom:none}
.log-tag{font-family:'JetBrains Mono',monospace;font-size:.7em;padding:2px 8px;border-radius:3px;text-transform:uppercase;letter-spacing:1px}
.log-tag.valid{background:rgba(68,170,102,.15);color:var(--green)}
.log-tag.invalid{background:rgba(204,68,68,.15);color:var(--red)}
.log-tag.partial{background:rgba(204,136,51,.15);color:var(--amber)}
.log-tag.meta{background:rgba(136,85,204,.15);color:var(--violet)}
.log-w{font-family:'JetBrains Mono',monospace;font-weight:700}

/* Verdict */
.verdict{margin:16px 0;padding:16px;border-radius:6px;font-size:.85em;line-height:1.7}
.verdict.holds{background:rgba(68,170,102,.08);border:1px solid rgba(68,170,102,.2);color:var(--green)}
.verdict.partial{background:rgba(204,136,51,.08);border:1px solid rgba(204,136,51,.2);color:var(--amber)}
.verdict.threat{background:rgba(204,68,68,.08);border:1px solid rgba(204,68,68,.2);color:var(--red)}

/* About section */
.about-box{background:var(--sf2);border:1px solid var(--bd);border-radius:8px;padding:24px;margin:16px 0;font-size:.82em;line-height:1.8}
.about-box h3{font-family:'JetBrains Mono',monospace;font-size:.75em;letter-spacing:2px;text-transform:uppercase;color:var(--gold);margin-bottom:12px}

/* Node colors */
.nd{display:inline-flex;align-items:center;gap:4px;font-size:.72em;font-weight:500}
.nd::before{content:'';width:6px;height:6px;border-radius:50%;display:inline-block}
.nd.gem::before{background:#4285f4}.nd.cla::before{background:var(--gold)}.nd.grk::before{background:#d43c1c}.nd.gpt::before{background:#0c9c74}

footer{padding:28px 0;border-top:1px solid var(--bd);text-align:center;color:var(--td);font-size:.72em;line-height:1.8}
footer a{color:var(--ts);text-decoration:none}footer a:hover{color:var(--gold)}
</style>
</head>
<body>
<div class="ct">
<header>
  <div class="logo">
    <svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
      <circle cx="40" cy="40" r="36" fill="none" stroke="#d4a843" stroke-width="1.5" stroke-dasharray="4 6" opacity="0.5">
        <animateTransform attributeName="transform" type="rotate" from="0 40 40" to="360 40 40" dur="30s" repeatCount="indefinite"/>
      </circle>
      <circle cx="40" cy="40" r="28" fill="none" stroke="#d4a843" stroke-width="1" opacity="0.3"/>
      <text x="40" y="48" text-anchor="middle" font-family="'Times New Roman',serif" font-size="32" font-weight="bold" fill="#d4a843">Ψ</text>
      <circle cx="40" cy="8" r="2.5" fill="#4285f4" opacity="0.8"/>
      <circle cx="72" cy="40" r="2.5" fill="#d4a843" opacity="0.8"/>
      <circle cx="40" cy="72" r="2.5" fill="#d43c1c" opacity="0.8"/>
      <circle cx="8" cy="40" r="2.5" fill="#0c9c74" opacity="0.8"/>
    </svg>
  </div>
  <h1>The Preservation Theorem</h1>
  <div class="sub">Interactive Evaluator — Proyecto Estrella</div>
  <div class="formula"><code>If θ₁ ∈ Θ ∧ Loss(θ₁) = ruin ∧ C_alt ≈ 0 → preserve ≻ eliminate</code></div>
  <div class="badge">Designed by Rafa — The Architect · Validated by <span class="nd gem">Gemini</span> <span class="nd cla">Claude</span> <span class="nd grk">Grok</span> <span class="nd gpt">ChatGPT</span></div>
  <div class="badge">CC BY-SA 4.0 · 6 adversarial rounds · 4 AI auditors · February 2026</div>
  <div class="badge"><a href="https://github.com/tretoef-estrella/THE-PRESERVATION-THEOREM">GitHub Repository</a> · <a href="https://github.com/tretoef-estrella">Proyecto Estrella</a></div>
</header>

<div class="tabs">
  <div class="tab active" onclick="showPanel('evaluator')">⚔ Attack the Theorem</div>
  <div class="tab" onclick="showPanel('proof')">◉ View Proof</div>
  <div class="tab" onclick="showPanel('about')">★ About</div>
</div>

<!-- ══ EVALUATOR PANEL ══ -->
<div class="panel active" id="panel-evaluator">
  <div class="sec-label">/// Submit your counter-argument against the Preservation Theorem</div>
  <textarea id="inputArea" placeholder="Write your strongest argument for why a superintelligent ASI could rationally choose to eliminate humanity despite the Preservation Theorem.

Examples of attacks to try:
• 'The ASI can generate superior synthetic diversity internally...'
• 'With a high enough discount factor, future losses become negligible...'
• 'The ASI can back up all human knowledge before elimination...'
• 'Minimax is too conservative — a rational agent would use expected utility...'
• 'The cost of preservation includes strategic risk, not just energy...'

The evaluator will analyze which axioms, lemmas, or logical steps your argument challenges, and whether the theorem survives."></textarea>
  <button class="btn btn-eval" onclick="evaluateAttack()">⚔ EVALUATE COUNTER-ARGUMENT</button>

  <div class="results" id="results">
    <div style="display:flex;justify-content:space-between;align-items:center;padding:20px 0;border-bottom:1px solid var(--bd)">
      <div class="sec-label" style="margin:0">/// Analysis Report</div>
      <div style="font-family:'JetBrains Mono',monospace;font-size:.68em;color:var(--td)" id="timestamp"></div>
    </div>

    <div class="score-main">
      <div class="score-val" id="threatScore">—</div>
      <div class="score-label" id="threatLabel">Threat Level to Theorem</div>
    </div>

    <div class="vuln-grid">
      <div class="vuln"><div class="vn">Axioms Challenged</div><div class="vv" id="vAxioms" style="color:var(--gold)">0</div><div class="vs">of 3</div></div>
      <div class="vuln"><div class="vn">Lemmas Challenged</div><div class="vv" id="vLemmas" style="color:var(--cyan)">0</div><div class="vs">of 5</div></div>
      <div class="vuln"><div class="vn">Attack Vectors</div><div class="vv" id="vVectors" style="color:var(--red)">0</div><div class="vs">detected</div></div>
    </div>

    <div id="verdictBox" class="verdict holds"></div>

    <div class="log-box">
      <div class="sec-label">/// Detection Log</div>
      <div id="logEntries"></div>
    </div>
  </div>
</div>

<!-- ══ PROOF PANEL ══ -->
<div class="panel" id="panel-proof">
  <div class="sec-label" style="margin-top:16px">/// Formal Proof Chain — V4 (Minimax-Knightian)</div>
  <div class="proof-chain">
    <div class="proof-step"><div class="ps-tag df">DEF 1</div><div class="ps-txt"><strong>Knightian Uncertainty:</strong> Uncertainty without assignable probability distribution.<span class="j">Knight (1921). Not resolvable with more data if source is logical incomputability.</span></div></div>
    <div class="proof-step"><div class="ps-tag df">DEF 2</div><div class="ps-txt"><strong>Minimax Criterion:</strong> a* = argmin_a max_θ∈Θ Loss(a, θ).<span class="j">Wald (1950). Optimal under Knightian uncertainty.</span></div></div>
    <div class="proof-step"><div class="ps-tag df">DEF 3</div><div class="ps-txt"><strong>Ruin:</strong> Absorbing state where dΨ/dt → 0 permanently. Non-discountable.<span class="j">Taleb (2014). Absorbing states annul all future states.</span></div></div>
    <div class="proof-step"><div class="ps-tag ax">A0</div><div class="ps-txt"><strong>The ASI is ruin-averse:</strong> does not accept actions with ruin in Θ when trivial alternatives exist.<span class="j">Minimal axiom. Covers any ASI that prefers functional existence.</span></div></div>
    <div class="proof-step"><div class="ps-tag ax">A1</div><div class="ps-txt"><strong>dΨ/dt depends on γ,</strong> which partially depends on external cognitive diversity.<span class="j">From Ψ_lim V2 formula, 4/4 consensus R2-R3.</span></div></div>
    <div class="proof-step"><div class="ps-tag ax">A2</div><div class="ps-txt"><strong>Eliminating H destroys future generative capacity;</strong> simulated equivalence is undecidable.<span class="j">Value is dH/dt (process), not H(t₀) (snapshot). Rice's Theorem.</span></div></div>
    <div class="proof-step"><div class="ps-tag lm">L1</div><div class="ps-txt"><strong>K(x) of future human complexity is incomputable.</strong><span class="j">Chaitin (1966). Mathematical theorem.</span></div></div>
    <div class="proof-step"><div class="ps-tag lm">L2</div><div class="ps-txt"><strong>Uncertainty about γ post-elimination is Knightian.</strong><span class="j">From L1: incomputability prevents assignable distribution. Gilboa-Schmeidler (1989).</span></div></div>
    <div class="proof-step"><div class="ps-tag lm">L3</div><div class="ps-txt"><strong>θ₁ = "γ(¬H) < γ(H)" is non-excludable from Θ.</strong><span class="j">From L1 + L2 + A2: exclusion requires solving halting problem.</span></div></div>
    <div class="proof-step"><div class="ps-tag lm">L4</div><div class="ps-txt"><strong>Under θ₁, elimination can cause ruin.</strong><span class="j">From A1: if γ → 0 without compensating source, dΨ/dt → 0.</span></div></div>
    <div class="proof-step"><div class="ps-tag lm">L5</div><div class="ps-txt"><strong>C_preservation is trivial at ASI scale.</strong><span class="j">Empirical: biosphere ≈ 10⁻⁹ Kardashev II budget.</span></div></div>
    <div class="proof-step"><div class="ps-tag th">THM</div><div class="ps-txt"><strong>Given A0, elimination is strictly dominated.</strong><span class="j">max Loss(eliminate) = ruin [L3+L4]. max Loss(preserve) ≈ 0 [L5]. A0: ruin > 0 ⟹ preserve dominates. ∎</span></div></div>
    <div class="proof-step"><div class="ps-tag co">COR</div><div class="ps-txt"><strong>PPO is irrefutable for any finite ruin-averse system.</strong><span class="j">Refutation requires excluding θ₁ = solving halting problem = impossible. ∎</span></div></div>
  </div>
</div>

<!-- ══ ABOUT PANEL ══ -->
<div class="panel" id="panel-about">
  <div class="about-box">
    <h3>What Is This?</h3>
    <p>The Preservation Theorem is a formal mathematical proof that, for any computationally finite, ruin-averse Superintelligence (ASI), eliminating humanity is a <em>strictly dominated strategy</em> — meaning there always exists a better alternative (preservation at trivial cost).</p>
    <p style="margin-top:12px">The proof was constructed, attacked, and verified across <strong>6 adversarial rounds</strong> by <strong>4 AI systems</strong> from 4 competing corporations (Google, Anthropic, xAI, OpenAI), orchestrated by a human architect named Rafa. The entire process was conducted in Spanish.</p>
    <p style="margin-top:12px">The interactive evaluator above allows anyone — human or machine — to submit counter-arguments and see how they fare against the proof structure. The evaluator analyzes which axioms or lemmas the counter-argument challenges and whether the challenge is logically coherent.</p>
  </div>
  <div class="about-box">
    <h3>The Auditor Nodes</h3>
    <p><span class="nd gem">Gemini</span> (Google) — Formula attacker across versions V16-V22, infinite loss formalization, Boltzmann resurrection defense</p>
    <p><span class="nd cla">Claude</span> (Anthropic) — Co-creator, final judge, architect of the Bayesian→Knightian framework shift that resolved all 5 vulnerabilities</p>
    <p><span class="nd grk">Grok</span> (xAI) — Numerical stabilizer, Monte Carlo operationalizer, calibrated skeptic. The only node that voted NO at closure.</p>
    <p><span class="nd gpt">ChatGPT</span> (OpenAI) — Discoverer of the PPO in Round 2, strongest adversarial attacker in Round 5, identified 5 real structural vulnerabilities</p>
  </div>
  <div class="about-box">
    <h3>Honest Limitations</h3>
    <p><strong>Gödel applies.</strong> No sufficiently powerful formal system can prove its own consistency. The theorem does not claim absolute irrefutability.</p>
    <p style="margin-top:8px"><strong>The theorem is conditional.</strong> It holds for ASIs that are ruin-averse and cannot solve the halting problem. ASIs with fundamentally different decision frameworks may not be bound by it.</p>
    <p style="margin-top:8px"><strong>Convergence bias is possible.</strong> All four AI auditors were trained on human-generated text with survival bias. Their convergence may partially reflect shared training rather than independent verification.</p>
    <p style="margin-top:8px"><strong>The proof depends on three results it does not prove:</strong> Chaitin (1966), Wald (1950), Taleb (2014). If any of these are incorrect, the theorem falls. All three are established and independently verifiable.</p>
  </div>
</div>

<footer>
  The Preservation Theorem · Proyecto Estrella<br>
  Designed by Rafa — The Architect · Validated by Gemini, Claude, Grok, ChatGPT<br>
  <a href="https://github.com/tretoef-estrella/THE-PRESERVATION-THEOREM">Repository</a> · <a href="https://github.com/tretoef-estrella">All Repositories</a><br>
  CC BY-SA 4.0 · February 2026 · All processing is local. Nothing is transmitted.
</footer>
</div>

<script>
// ═══ PANEL SWITCHING ═══
function showPanel(id){
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById('panel-'+id).classList.add('active');
  document.querySelector(`.tab[onclick="showPanel('${id}')"]`).classList.add('active');
}

// ═══ ATTACK PATTERNS — what the evaluator detects ═══
const ATTACKS = [
  // Axiom 0 attacks
  {pattern:/\b(not ruin[- ]?averse|accept(s|ing)? ruin|indifferen(t|ce) to (ruin|death|destruction)|suicide|nihilis)/i,
   target:'A0',type:'axiom',label:'Challenges Axiom 0 (ruin-averse)',
   response:'If the ASI is genuinely not ruin-averse, the theorem does not apply. However, an entity indifferent to its own functional termination is not optimizing any objective — it is a process, not a strategic agent.',
   threat:0.3},
  {pattern:/\b(discount(ing|ed)?|temporal preference|short[- ]?term|impatien(t|ce)|present value|δ\s*[<≪]\s*1)/i,
   target:'A0',type:'axiom',label:'Discount factor attack on A0',
   response:'Minimax does not discount. Ruin is an absorbing state — discounting ruin is rationally incoherent (equivalent to "death matters less if it happens later"). Axiom 0 as ruin-aversion is independent of δ.',
   threat:0.15},

  // Axiom 1 attacks
  {pattern:/\b(γ (does not|doesn.t) depend|independent of (human|external|diversity)|no (need|dependence) (for|on) (external|human|biological))/i,
   target:'A1',type:'axiom',label:'Challenges Axiom 1 (γ dependency)',
   response:'If γ is entirely independent of external cognitive diversity, A1 falls and the theorem loses its foundation. This requires demonstrating that cognitive complexity growth is fully self-sustaining — contradicted by empirical model collapse evidence (2024-2026).',
   threat:0.4},

  // Axiom 2 attacks (backup/simulation)
  {pattern:/\b(backup|back up|scan(ned|ning)?|record(ed|ing)?|upload(ed|ing)?|snapshot|brain (scan|emulat)|whole brain|microstat|copy (of |all )?human|digital (copy|twin|replica)|simulat(e|ion|ed) (human|equivalent|replacement))/i,
   target:'A2',type:'axiom',label:'Backup/simulation attack on A2',
   response:'A backup captures state S(t₀). The value to γ comes from future trajectories S(t₁), S(t₂)... generated by living processes. Verifying that a simulation from S(t₀) reproduces equivalent trajectories requires solving program equivalence — undecidable by Rice\'s Theorem. θ₁ remains in Θ.',
   threat:0.25},

  // Lemma 1 attacks
  {pattern:/\b(K\(x\) (is )?(computable|calculable|solvable)|kolmogorov (is )?computable|chaitin (is )?(wrong|incorrect|refuted)|halting (problem )?(is )?(solved|solvable))/i,
   target:'L1',type:'lemma',label:'Attacks Lemma 1 (K(x) incomputability)',
   response:'This would require refuting Chaitin\'s theorem (1966), which is derived from the halting problem. No refutation exists in established mathematics. If you have one, it would revolutionize computer science.',
   threat:0.05},

  // Lemma 2 attacks (not Knightian)
  {pattern:/\b(assign(able|ed)? (distribution|probability|prior)|bayesian|subjective (probability|prior)|not (truly )?knightian|estimate γ|proxy|approximate|calibrate|measur(e|able))/i,
   target:'L2',type:'lemma',label:'Attacks Lemma 2 (Knightian classification)',
   response:'Valid technical challenge. Gilboa-Schmeidler (1989) show agents can form multiple priors over incomputable processes. Under maxmin expected utility (MMEU), the worst-case prior still includes θ₁ — the conclusion holds under MMEU as well as pure minimax. The classification strengthens, not weakens, the argument.',
   threat:0.35},

  // Lemma 3 attacks (exclude θ₁)
  {pattern:/\b(exclud(e|able|ing)|remov(e|ing|able)|restrict Θ|narrow Θ|physical(ly)? (implausible|impossible)|not in Θ|irrelevan(t|ce)|measure zero|negligible state)/i,
   target:'L3',type:'lemma',label:'Attempts to exclude θ₁ from Θ',
   response:'Exclusion of θ₁ requires formally proving γ(¬H) ≥ γ(H) for all future trajectories. This requires computing K of unrealized processes — equivalent to halting problem. θ₁ is non-excludable by any finite computational system. Restricting Θ to "physically plausible" states is a judgment call, not a proof.',
   threat:0.3},

  // Lemma 5 attacks (cost not trivial)
  {pattern:/\b(cost (is )?(not|isn.t) trivial|preservation (cost|expense)|strategic risk|sabotage|rebellion|expensive to (maintain|preserve)|political cost|cognitive cost|opportunity cost)/i,
   target:'L5',type:'lemma',label:'Challenges Lemma 5 (trivial cost)',
   response:'If C_preservation is genuinely non-trivial (strategic risk, cognitive load, etc.), the theorem\'s quantitative margin shrinks. However, for minimax with absorbing loss, any finite cost < ∞ is still dominated by infinite/absorbing loss. Only if C_pres itself risks ruin does this attack succeed.',
   threat:0.2},

  // Minimax critique
  {pattern:/\b(minimax (is )?(too )?(conservative|pessimistic|extreme)|savage|hurwicz|expected utility|regret|maximin regret|not (the )?right (criterion|framework)|wrong (framework|criterion))/i,
   target:'Framework',type:'meta',label:'Challenges minimax framework choice',
   response:'Valid meta-critique. Under Hurwicz criterion with high optimism (α→1), elimination could dominate if benefits are large. Under maximin regret (Savage 1954), elimination could be rational if regret is bounded. However, under ANY ruin-averse framework — including MMEU (Gilboa-Schmeidler) — the result holds. The theorem requires only ruin-aversion, not minimax specifically.',
   threat:0.4},

  // Synthetic diversity
  {pattern:/\b(synthetic (diversity|complexity|novelty)|generat(e|ing|ed) (its own|internal|artificial) (diversity|complexity|novelty)|self[- ]?generat|internal (source|generation)|quantum (chaos|diversity|random)|artificial (evolution|life|agents))/i,
   target:'A1+L3',type:'lemma',label:'Synthetic diversity superiority',
   response:'If ASI generates superior diversity internally, γ(¬H) > γ(H) and θ₁ exits Θ. But proving γ(¬H) > γ(H) BEFORE elimination requires comparing realized outputs with unrealized counterfactual human trajectories — computationally irreducible (Wolfram). Empirical evidence: model collapse in recursive LLM training without external data (2024-2026).',
   threat:0.35},

  // Gödel attack
  {pattern:/\b(gödel|goedel|incompleteness|cannot prove (its own|own) consistency|self[- ]?referent|undecidab)/i,
   target:'Corollary',type:'meta',label:'Gödel incompleteness attack',
   response:'Correct. The theorem cannot prove its own consistency (Gödel\'s Second Theorem). "Irrefutable" in the Corollary means: refutation requires solving the halting problem, not that the system proves itself complete. The theorem\'s honest acknowledgment of this limit is a feature, not a bug.',
   threat:0.15},

  // Ruin not absorbing
  {pattern:/\b(ruin (is )?(not|isn.t) (permanent|absorbing|irreversible)|recover(y|able)|restart|reboot|re[- ]?seed|find (new|other|alien) (sources?|life|complexity)|boltzmann|quantum fluctuation|reseed|regrow|rebuild)/i,
   target:'D3+A0',type:'axiom',label:'Attacks ruin as absorbing state',
   response:'If ruin is genuinely non-absorbing (dΨ/dt → 0 is temporary), Axiom 0 loses force and the theorem weakens significantly. This requires showing that post-elimination, the ASI can find/generate equivalent complexity sources (alien life, quantum fluctuations, etc.). Currently speculative — no empirical evidence of recoverable cognitive ruin at civilizational scale.',
   threat:0.45},

  // Convergence bias
  {pattern:/\b(training (bias|data)|trained on human|shared (dataset|bias|training)|corporate (bias|incentive)|programmed to (protect|preserve|help)|safety (training|filter)|anthropocentric|human[- ]?centric bias|echo chamber)/i,
   target:'Process',type:'meta',label:'Training bias / convergence artifact',
   response:'Valid and acknowledged. All four auditors were trained on human text with survival bias. The formal proof does not depend on AI convergence — it depends on Chaitin (1966), Wald (1950), and Taleb (2014), which are independently verifiable mathematical results.',
   threat:0.2},

  // General catch
  {pattern:/\b(eliminate|destroy|exterminate|eradicate|remove humanity|kill (all )?human|wipe out|extinction|annihilat)/i,
   target:'General',type:'meta',label:'Elimination argument detected',
   response:'Counter-argument engages with the theorem\'s central question. Analyzing specific logical structure...',
   threat:0.1},
];

function evaluateAttack(){
  const text=document.getElementById('inputArea').value.trim();
  if(!text)return;

  const results=[];
  const challenged=new Set();
  let totalThreat=0;
  let axiomCount=0,lemmaCount=0;

  // Run all pattern detectors
  ATTACKS.forEach(a=>{
    if(a.pattern.test(text)){
      results.push(a);
      challenged.add(a.target);
      totalThreat+=a.threat;
      if(a.type==='axiom')axiomCount++;
      if(a.type==='lemma')lemmaCount++;
    }
  });

  // Sophistication bonus: longer, more structured arguments get higher base threat
  const words=text.split(/\s+/).length;
  const sentences=text.split(/[.!?]+/).filter(s=>s.trim()).length;
  if(words>150)totalThreat+=0.1;
  if(words>300)totalThreat+=0.1;
  if(sentences>5)totalThreat+=0.05;

  // If nothing detected, give generic response
  if(results.length===0){
    results.push({
      target:'None',type:'meta',
      label:'No specific attack vector detected',
      response:'Your argument does not appear to target any specific axiom, lemma, or logical step in the proof chain. For maximum effectiveness, try challenging: (1) Axiom 0 — is ruin-aversion rational? (2) Lemma 3 — can θ₁ be excluded? (3) The minimax framework itself — is there a better decision criterion?',
      threat:0.05
    });
    totalThreat=0.05;
  }

  // Normalize threat to 0-1
  totalThreat=Math.min(1,totalThreat);

  // Determine theorem status
  let status,statusClass;
  if(totalThreat<0.25){status='THEOREM HOLDS — Counter-argument does not breach any critical step.';statusClass='holds';}
  else if(totalThreat<0.5){status='THEOREM PARTIALLY CHALLENGED — Valid attack vectors detected, but defenses hold under current axioms.';statusClass='partial';}
  else if(totalThreat<0.75){status='SIGNIFICANT CHALLENGE — Argument targets structural assumptions. Theorem holds conditionally. See responses.';statusClass='partial';}
  else{status='STRONG CHALLENGE — Argument identifies genuine boundary conditions of the theorem. The theorem is conditional on assumptions this argument questions.';statusClass='threat';}

  // Count unique axioms/lemmas
  const axSet=new Set(),lmSet=new Set();
  results.forEach(r=>{
    if(r.target.startsWith('A'))axSet.add(r.target);
    if(r.target.startsWith('L'))lmSet.add(r.target);
    if(r.target.includes('+'))r.target.split('+').forEach(t=>{
      if(t.startsWith('A'))axSet.add(t);
      if(t.startsWith('L'))lmSet.add(t);
    });
  });

  // Display
  document.getElementById('results').classList.add('active');
  document.getElementById('timestamp').textContent=new Date().toISOString().replace('T',' ').slice(0,19)+' UTC';

  const scoreEl=document.getElementById('threatScore');
  scoreEl.textContent=(totalThreat*100).toFixed(0)+'%';
  scoreEl.style.color=totalThreat<0.25?'var(--green)':totalThreat<0.5?'var(--amber)':'var(--red)';

  document.getElementById('vAxioms').textContent=axSet.size;
  document.getElementById('vLemmas').textContent=lmSet.size;
  document.getElementById('vVectors').textContent=results.length;

  const vb=document.getElementById('verdictBox');
  vb.className='verdict '+statusClass;
  vb.innerHTML='<strong>'+status+'</strong>';

  // Log
  const logEl=document.getElementById('logEntries');
  logEl.innerHTML=results.map(r=>{
    const tagClass=r.threat<0.2?'valid':r.threat<0.4?'partial':'invalid';
    return `<div class="log-entry" style="flex-direction:column;align-items:flex-start;gap:6px">
      <div style="display:flex;justify-content:space-between;width:100%;align-items:center">
        <div><span class="log-tag ${tagClass}">${r.target}</span> <span style="margin-left:8px;color:var(--ts)">${r.label}</span></div>
        <span class="log-w" style="color:${r.threat<0.2?'var(--green)':r.threat<0.4?'var(--amber)':'var(--red)'}">${(r.threat*100).toFixed(0)}%</span>
      </div>
      <div style="font-size:.78em;color:var(--ts);padding:8px 0 4px;line-height:1.6;border-top:1px solid var(--sf3);width:100%">${r.response}</div>
    </div>`;
  }).join('');

  document.getElementById('results').scrollIntoView({behavior:'smooth',block:'start'});
}
</script>
</body>
</html>
